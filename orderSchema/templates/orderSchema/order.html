{% extends 'base.html' %}

{% block Content %}


  <div class="container" id="form_container">

    <div class="row">


      <div class="col-md-offset-2 col-md-9">
        <h1>Kontakt Informasjon</h1>

        <p>For å fulføre reservasjonen, vennligst fyll ut det følgende skjema. Husk å dobbelsjekk informasjon av
          reservasjonen før du går videre.</p>
      </div>
      <div class="col-md-12">
        <form method="post" id="orderForm">{% csrf_token %}
          <div class="col-md-offset-2 col-md-8">
            <div class="form-group">
              <label for="email">Epost adresse</label>
              <input type="email" class="form-control" id="email" name="email" placeholder="Epost">
              {{ form.email.errors }}
            </div>
            <div class="form-group">
              <label for="first_name">Fornavn</label>
              <input type="text" class="form-control" id="first_name" name="first_name" placeholder="Fornavn">
              {{ form.first_name.errors }}
            </div>
            <div class="form-group">
              <label for="last_name">Etternavn</label>
              <input type="text" class="form-control" id="last_name" name="last_name" placeholder="Fornavn">
              {{ form.last_name.errors }}
            </div>

            <div class="form-group">
              <label for="phone_number">Telefonnummer</label>
              <input type="tel" class="form-control" id="phone_number" name="phone_number"
                     placeholder="Telefonnummer">
              {{ form.phone_number.errors }}
            </div>


            <div class="form-group">
              <label for="misc_info">Annen Informasjon</label>
              <textarea class="form-control" id="misc_info" name="misc_info" rows="3"></textarea>
            </div>
          </div>


          <hr>
          <h3> Planter</h3>
          <div id="field" class="col-md-12">
            <div>
              <div id="field0" class="col-md-10">
                <div class="form-group col-md-3 col-xs-3">
                  <label for="exampleInputEmail1">Plante Navn</label>
                  <input type="text" class="form-control" name="plantName" id="plantName" placeholder="Plante Navn">
                </div>
                <div class="form-group col-md-2 col-xs-3">
                  <label for="exampleInputEmail1">Størrelse</label>
                  <input type="text" class="form-control" name="size" id="size" placeholder="Størrelse">
                </div>
                <div class="form-group col-md-2 col-xs-3">
                  <label for="exampleInputEmail1">Antall</label>
                  <input type="number" class="form-control" name="amount" id="amount" placeholder="1">
                </div>
                <div class="form-group col-md-2 col-xs-3">
                  <label for="exampleInputEmail1">Pris (Per stk)</label>
                  <input type="text" class="form-control" id="price" name="price" placeholder="Pris">
                </div>
                <div class="form-group">

                </div>
              </div>
            </div>


          </div>
          <!-- Button -->
          <div class="col-md-12">
            <button id="add-more" name="add-more" class="btn btn-primary">Legg til</button>
          </div>
          <br><br>
          <div class="col-md-12">
            <button type="submit" class="btn">Fullfør bestilling</button>
          </div>
        </form>
      </div>
    </div>

  </div>
  <script>
      $(document).ready(function () {
          //@naresh action dynamic childs
          var next = 0;
          $("#add-more").click(function (e) {
              e.preventDefault();
              var addto = "#field" + next;
              var addRemove = "#field" + (next);
              next = next + 1;
              var newIn = ' <div id="field' + next + '" name="field' + next + '">' +
                  '<div class="form-group col-md-3 col-xs-3"><label for="exampleInputEmail1">Plante Navn</label><input type="text" class="form-control" name="plantName" id="plantName" placeholder="Plante Navn"></div><div class="form-group col-md-2 col-xs-3"><label for="exampleInputEmail1">Størrelse</label><input type="text" class="form-control" name="size" id="size" placeholder="Størrelse"></div><div class="form-group col-md-2 col-xs-3"><label for="exampleInputEmail1">Antall</label><input type="number" class="form-control" name="amount" id="amount" placeholder="1"></div><div class="form-group col-md-2 col-xs-3"><label for="exampleInputEmail1">Pris (Per stk)</label><input type="text" class="form-control" id="price" name="price" placeholder="Pris"></div>' +
                  '</div>';
              var newInput = $(newIn);
              var removeBtn = '<button id="remove' + (next - 1) + '" class="btn btn-danger remove-me col-md-2" >Remove</button></div></div><div id="field">';
              var removeButton = $(removeBtn);
              $(addto).after(newInput);
              $(addRemove).after(removeButton);
              $("#field" + next).attr('data-source', $(addto).attr('data-source'));
              $("#count").val(next);

              $('.remove-me').click(function (e) {
                  e.preventDefault();
                  var fieldNum = this.id.charAt(this.id.length - 1);
                  var fieldID = "#field" + fieldNum;
                  $(this).remove();
                  $(fieldID).remove();
              });
          });

      });
  </script>
{% endblock Content %}